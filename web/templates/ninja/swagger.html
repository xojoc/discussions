{% load static %}
<!DOCTYPE html>
<html>

    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <link type="text/css" rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/swagger-ui-dist@3.51.2/swagger-ui.css">

        <link rel="icon" type="image/png" href="{% static "favicon-32x32.png" %}" />
        <title>{{ api.title }}</title>

        <meta name="description" content="REST API to retrieve discussions count" />
        <script defer data-domain="discu.eu" src="https://plausible.xojoc.pw/js/plausible.js"></script>
    </head>

    <body>
        <div id="swagger-ui">
        </div>

        <script src="https://cdn.jsdelivr.net/npm/swagger-ui-dist@3.51.2/swagger-ui-bundle.js"></script>
        <script>
            const ui = SwaggerUIBundle({
                url: '{{ openapi_json_url }}',
                dom_id: '#swagger-ui',
                presets: [
                    SwaggerUIBundle.presets.apis,
                    SwaggerUIBundle.SwaggerUIStandalonePreset
                ],
                layout: "BaseLayout",
        {% if api.csrf and csrf_token %}
            requestInterceptor: (req) => {
                req.headers['X-CSRFToken'] = "{{csrf_token}}"
                return req;
            },
                {% endif %}
            deepLinking: true,
                tryItOutEnabled: true,
                    persistAuthorization: true
        })
        </script>
    </body>

</html>